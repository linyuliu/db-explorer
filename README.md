# æ•°æ®åº“æ¢ç´¢å™¨ (Database Explorer)

ä¸€ä¸ªæ”¯æŒå¤šç§æ•°æ®åº“çš„ç°ä»£åŒ–Webæ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œæä¾›ç›´è§‚çš„ç”¨æˆ·ç•Œé¢æ¥æµè§ˆæ•°æ®åº“ç»“æ„å’Œè¡¨å…ƒæ•°æ®ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ—„ï¸ å¤šæ•°æ®åº“æ”¯æŒ
- **MySQL 5.x & 8.x** - æ”¯æŒä¸åŒç‰ˆæœ¬çš„MySQLæ•°æ®åº“
- **PostgreSQL** - å®Œæ•´çš„PostgreSQLæ”¯æŒï¼ŒåŒ…æ‹¬æ¨¡å¼(Schema)ç®¡ç†
- **Oracle** - Enterpriseçº§Oracleæ•°æ®åº“æ”¯æŒ
- **SQL Server** - Microsoft SQL Serveræ”¯æŒ
- **è¾¾æ¢¦ (Dameng)** - å›½äº§è¾¾æ¢¦æ•°æ®åº“æ”¯æŒ
- **äººå¤§é‡‘ä»“ (KingbaseES)** - åŸºäºPostgreSQLçš„å›½äº§æ•°æ®åº“

### ğŸ—ï¸ æ¶æ„ç‰¹æ€§
- **æ¨¡å—åŒ–é©±åŠ¨è®¾è®¡** - æ¯ä¸ªæ•°æ®åº“ç±»å‹éƒ½æœ‰ç‹¬ç«‹çš„é©±åŠ¨æ¨¡å—ï¼Œæ”¯æŒç‰ˆæœ¬éš”ç¦»å’Œä¸“æœ‰æ•°æ®åº“
- **Schemaæ„ŸçŸ¥** - æ™ºèƒ½å¤„ç†æ”¯æŒSchemaçš„æ•°æ®åº“ï¼ˆPostgreSQLã€Oracleã€KingbaseESã€Damengï¼‰
- **ç‰ˆæœ¬å…¼å®¹æ€§** - æ”¯æŒåŒä¸€æ•°æ®åº“çš„å¤šä¸ªç‰ˆæœ¬ï¼ˆå¦‚MySQL 5.xå’Œ8.xï¼‰
- **Shadingæ”¯æŒ** - MySQLæ¨¡å—åŒ…å«Maven Shadeæ’ä»¶ï¼Œé¿å…ç‰ˆæœ¬å†²çª
- **ä¸“æœ‰æ•°æ®åº“æ”¯æŒ** - å•ç‹¬æ¨¡å—æ”¯æŒäººå¤§é‡‘ä»“ã€è¾¾æ¢¦ç­‰é­”æ”¹æ•°æ®åº“
- **å¯æ‰©å±•æ€§** - æ˜“äºæ·»åŠ æ–°çš„æ•°æ®åº“æ”¯æŒ
- **ç°ä»£åŒ–å‰ç«¯** - åŸºäºVue.js 3çš„å“åº”å¼ç”¨æˆ·ç•Œé¢

### ğŸ“Š æ•°æ®åº“åŠŸèƒ½
- **è¿æ¥ç®¡ç†** - å®‰å…¨çš„æ•°æ®åº“è¿æ¥é…ç½®
- **è¡¨æµè§ˆ** - å®æ—¶è·å–æ•°æ®åº“ä¸­çš„è¡¨å’Œè§†å›¾åˆ—è¡¨
- **è¡¨å…ƒæ•°æ®** - è¯¦ç»†çš„è¡¨ç»“æ„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š
  - åˆ—ä¿¡æ¯ï¼ˆæ•°æ®ç±»å‹ã€çº¦æŸã€é»˜è®¤å€¼ç­‰ï¼‰
  - ç´¢å¼•ä¿¡æ¯
  - å¤–é”®å…³ç³»
  - ä¸»é”®ä¿¡æ¯
- **æœç´¢è¿‡æ»¤** - å¿«é€Ÿæœç´¢å’Œè¿‡æ»¤è¡¨å
- **Schemaæ”¯æŒ** - é’ˆå¯¹æ”¯æŒSchemaçš„æ•°æ®åº“æä¾›Schemaé€‰æ‹©

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **Java 17** - ç°ä»£Javaå¼€å‘
- **Spring Boot 3.1.2** - ä¼ä¸šçº§åº”ç”¨æ¡†æ¶
- **Maven** - é¡¹ç›®ç®¡ç†å’Œæ„å»ºå·¥å…·
- **å¤šç‰ˆæœ¬JDBCé©±åŠ¨** - éš”ç¦»ä¸åŒç‰ˆæœ¬çš„æ•°æ®åº“é©±åŠ¨

### å‰ç«¯
- **Vue.js 3** - æ¸è¿›å¼JavaScriptæ¡†æ¶
- **Vite** - ç°ä»£åŒ–æ„å»ºå·¥å…·
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶
- **Axios** - HTTPå®¢æˆ·ç«¯åº“

## ğŸ“ é¡¹ç›®ç»“æ„

```
db-explorer/
â”œâ”€â”€ db-explorer-app/           # ä¸»åº”ç”¨æ¨¡å—
â”‚   â””â”€â”€ src/main/java/cn/mumu/dbexplorer/
â”‚       â”œâ”€â”€ provider/          # æ•°æ®åº“å…ƒæ•°æ®æä¾›è€…
â”‚       â”‚   â”œâ”€â”€ impl/         # å„æ•°æ®åº“çš„å…·ä½“å®ç°
â”‚       â”‚   â””â”€â”€ DatabaseMetadataProvider.java
â”‚       â”œâ”€â”€ service/          # ä¸šåŠ¡æœåŠ¡å±‚
â”‚       â”œâ”€â”€ controller/       # REST APIæ§åˆ¶å™¨
â”‚       â””â”€â”€ dto/             # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ database-drivers/          # æ•°æ®åº“é©±åŠ¨æ¨¡å—ï¼ˆæŒ‰æ•°æ®åº“ç±»å‹åˆ†ç¦»ï¼‰
â”‚   â”œâ”€â”€ mysql/               # MySQLé©±åŠ¨ï¼ˆæ”¯æŒ5.xå’Œ8.xç‰ˆæœ¬åŠshadingï¼‰
â”‚   â”œâ”€â”€ postgresql/          # PostgreSQLé©±åŠ¨
â”‚   â”œâ”€â”€ oracle/              # Oracleé©±åŠ¨
â”‚   â”œâ”€â”€ sqlserver/           # SQL Serveré©±åŠ¨
â”‚   â”œâ”€â”€ dameng/              # è¾¾æ¢¦æ•°æ®åº“é©±åŠ¨ï¼ˆä¸“æœ‰ï¼‰
â”‚   â””â”€â”€ kingbase/            # äººå¤§é‡‘ä»“é©±åŠ¨ï¼ˆä¸“æœ‰ï¼‰
â””â”€â”€ db-ui/                   # Vue.js å‰ç«¯åº”ç”¨
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/      # Vueç»„ä»¶
    â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
    â”‚   â””â”€â”€ assets/         # é™æ€èµ„æº
    â””â”€â”€ dist/               # æ„å»ºè¾“å‡º
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- Node.js 16+ å’Œ npm
- Maven 3.6+

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/linyuliu/db-explorer.git
cd db-explorer
```

### 2. æ„å»ºåç«¯
```bash
# ç¼–è¯‘æ‰€æœ‰æ¨¡å—
mvn clean compile

# æ‰“åŒ…åº”ç”¨
mvn clean package
```

### 3. æ„å»ºå‰ç«¯
```bash
cd db-ui
npm install
npm run build
```

### 4. è¿è¡Œåº”ç”¨

#### åç«¯æœåŠ¡
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
java -jar db-explorer-app/target/db-explorer-app-1.0.0.jar
```

#### å‰ç«¯å¼€å‘æœåŠ¡å™¨
```bash
cd db-ui
npm run dev
```

åº”ç”¨å°†åœ¨ä»¥ä¸‹åœ°å€å¯ç”¨ï¼š
- åç«¯API: http://localhost:8080
- å‰ç«¯ç•Œé¢: http://localhost:5173

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“è¿æ¥é…ç½®
æ¯ç§æ•°æ®åº“éƒ½æœ‰ç‰¹å®šçš„è¿æ¥å‚æ•°ï¼š

- **Host/ç«¯å£**: æ•°æ®åº“æœåŠ¡å™¨åœ°å€å’Œç«¯å£
- **æ•°æ®åº“å**: è¦è¿æ¥çš„æ•°æ®åº“/æœåŠ¡å
- **Schema**: å¯¹äºæ”¯æŒSchemaçš„æ•°æ®åº“ï¼ˆPostgreSQLã€Oracleã€KingbaseESã€Damengï¼‰
- **ç”¨æˆ·å/å¯†ç **: æ•°æ®åº“è®¤è¯ä¿¡æ¯

### Schemaæ”¯æŒ
- **PostgreSQL**: é»˜è®¤ä½¿ç”¨`public` schemaï¼Œå¯æŒ‡å®šå…¶ä»–schema
- **KingbaseES**: å…¼å®¹PostgreSQLï¼Œé»˜è®¤ä½¿ç”¨`public` schema
- **Oracle**: é€šå¸¸ä½¿ç”¨ç”¨æˆ·åä½œä¸ºschemaåï¼ˆå¤§å†™ï¼‰
- **Dameng**: ç±»ä¼¼Oracleï¼Œæ”¯æŒç”¨æˆ·å®šä¹‰çš„schema
- **MySQL/SQL Server**: ä½¿ç”¨æ•°æ®åº“æ¦‚å¿µï¼Œä¸æ”¯æŒschema

## ğŸ—ï¸ å¼€å‘æŒ‡å—

### å®‰è£…ç§æœ‰æ•°æ®åº“é©±åŠ¨

æŸäº›æ•°æ®åº“é©±åŠ¨ï¼ˆå¦‚è¾¾æ¢¦ã€äººå¤§é‡‘ä»“ï¼‰å¯èƒ½ä¸åœ¨ Maven ä¸­å¤®ä»“åº“ä¸­ã€‚å¦‚æœé‡åˆ°æ„å»ºé”™è¯¯ï¼Œè¯·æ‰‹åŠ¨å®‰è£…è¿™äº›é©±åŠ¨ï¼š

```bash
# è¾¾æ¢¦æ•°æ®åº“é©±åŠ¨
mvn install:install-file -Dfile=DmJdbcDriver18.jar \
    -DgroupId=com.dameng -DartifactId=DmJdbcDriver18 \
    -Dversion=8.1.3.140 -Dpackaging=jar

# äººå¤§é‡‘ä»“é©±åŠ¨  
mvn install:install-file -Dfile=kingbase8.jar \
    -DgroupId=cn.com.kingbase -DartifactId=kingbase8 \
    -Dversion=8.6.0 -Dpackaging=jar
```

### æ·»åŠ æ–°æ•°æ®åº“æ”¯æŒ

1. **åˆ›å»ºä¸“ç”¨é©±åŠ¨æ¨¡å—**
```bash
# åœ¨ database-drivers/ ä¸‹åˆ›å»ºæ–°çš„æ•°æ®åº“ç±»å‹ç›®å½•
mkdir database-drivers/newdb
```

2. **é…ç½®é©±åŠ¨æ¨¡å— POM**
```xml
<!-- åœ¨ database-drivers/newdb/pom.xml ä¸­æ·»åŠ é©±åŠ¨ä¾èµ– -->
<dependency>
    <groupId>com.example</groupId>
    <artifactId>new-database-driver</artifactId>
    <version>1.0.0</version>
</dependency>
```

3. **æ›´æ–°çˆ¶æ¨¡å—**
```xml
<!-- åœ¨ database-drivers/pom.xml ä¸­æ·»åŠ æ–°æ¨¡å— -->
<module>newdb</module>
```

4. **å®ç°å…ƒæ•°æ®æä¾›è€…**
```java
@Component
public class NewDatabaseMetadataProvider extends AbstractDatabaseMetadataProvider {
    @Override
    public String getDatabaseType() {
        return "newdb";
    }
    
    @Override
    public String getDriverClassName() {
        return "com.example.newdb.Driver";
    }
    
    @Override
    public String buildUrl(ConnectionRequest request) {
        return String.format("jdbc:newdb://%s:%d/%s", 
            request.getHost(), request.getPort(), request.getDatabase());
    }
    
    // å®ç°å…¶ä»–å¿…è¦æ–¹æ³•...
}
```

5. **æ›´æ–°åº”ç”¨ä¾èµ–**
```xml
<!-- åœ¨ db-explorer-app/pom.xml ä¸­æ·»åŠ æ–°é©±åŠ¨æ¨¡å—ä¾èµ– -->
<dependency>
    <groupId>com.yourcompany</groupId>
    <artifactId>newdb-drivers</artifactId>
    <version>1.0.0</version>
</dependency>
```
```

3. **æ›´æ–°å‰ç«¯é…ç½®**
åœ¨ `ConnectionPanel.vue` ä¸­æ·»åŠ æ–°çš„æ•°æ®åº“ç±»å‹åˆ° `dbTypes` æ•°ç»„ã€‚

### APIç«¯ç‚¹

- `POST /api/connect` - è¿æ¥æ•°æ®åº“å¹¶è·å–è¡¨åˆ—è¡¨
- `POST /api/table-metadata?tableName={name}` - è·å–è¡¨çš„è¯¦ç»†å…ƒæ•°æ®
- `POST /api/schemas` - è·å–æ•°æ®åº“çš„Schemaåˆ—è¡¨ï¼ˆä»…æ”¯æŒSchemaçš„æ•°æ®åº“ï¼‰

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- Spring Boot å›¢é˜Ÿæä¾›çš„ä¼˜ç§€æ¡†æ¶
- Vue.js å›¢é˜Ÿçš„ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- å„æ•°æ®åº“å‚å•†æä¾›çš„JDBCé©±åŠ¨
- Tailwind CSS çš„ç¾è§‚UIç»„ä»¶

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ç°æœ‰çš„ [Issues](https://github.com/linyuliu/db-explorer/issues)
2. åˆ›å»ºæ–°çš„ Issue æè¿°æ‚¨çš„é—®é¢˜
3. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**æ•°æ®åº“æ¢ç´¢å™¨** - è®©æ•°æ®åº“ç®¡ç†å˜å¾—ç®€å•è€Œé«˜æ•ˆï¼ ğŸš€